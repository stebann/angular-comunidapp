<aside class="sidebar" [class.sidebar-collapsed]="isCollapsed">
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li class="nav-item" *ngFor="let item of menuItems">
        <a
          [routerLink]="['/app', item.ruta]"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          class="nav-link"
          [title]="item.nombre"
          (click)="onMenuItemClick(item)"
        >
          <i [class]="item.icono"></i>
          <span *ngIf="!isCollapsed">{{ item.nombre }}</span>
          <i
            *ngIf="item.children && !isCollapsed"
            class="fas fa-chevron-down expand-icon"
            [class.rotate]="item.expanded"
          ></i>
        </a>

        <!-- SubmenÃº desplegable -->
        <ul
          *ngIf="item.children && item.expanded && !isCollapsed"
          class="sub-nav-list"
        >
          <li class="nav-item" *ngFor="let child of item.children">
            <a
              href="#"
              (click)="$event.preventDefault(); onMenuItemClick(child)"
              [class.active]="child.active"
              class="nav-link sub-nav-link"
              [title]="child.nombre"
            >
              <i [class]="child.icono"></i>
              <span>{{ child.nombre }}</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="sidebar-footer">
    <img
      src="assets/fondos/logotipo-sinfondo.png"
      alt="ComunidApp Logo"
      class="footer-logo"
      [class.small-logo]="isCollapsed"
    />
  </div>
</aside>
