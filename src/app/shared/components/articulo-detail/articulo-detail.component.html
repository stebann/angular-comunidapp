<div class="modal-articulo">
  <div class="modal-content">
    <!-- Columna Izquierda: Solo Imagen -->
    <div class="left-column">
      <ng-container
        *ngIf="
          articulo?.imagenes && (articulo?.imagenes)!.length > 0;
          else emptyState
        "
      >
        <div class="carousel-main" (click)="openImageViewer()">
          <img
            [src]="getImagenSrc(articulo!.imagenes![currentImageIndex])"
            alt="Imagen del artículo"
            class="main-image"
          />
          <button
            type="button"
            class="nav-btn prev-btn"
            [disabled]="!canGoPrev()"
            (click)="prevImage(); $event.stopPropagation()"
            *ngIf="(articulo?.imagenes)!.length > 1"
          >
            <i class="pi pi-chevron-left"></i>
          </button>
          <button
            type="button"
            class="nav-btn next-btn"
            [disabled]="!canGoNext()"
            (click)="nextImage(); $event.stopPropagation()"
            *ngIf="(articulo?.imagenes)!.length > 1"
          >
            <i class="pi pi-chevron-right"></i>
          </button>
          <div class="image-counter" *ngIf="(articulo?.imagenes)!.length > 1">
            {{ currentImageIndex + 1 }} / {{ (articulo?.imagenes)!.length }}
          </div>
        </div>
      </ng-container>

      <ng-template #emptyState>
        <div class="empty-state">
          <i class="pi pi-image"></i>
          <p>Sin fotos disponibles</p>
        </div>
      </ng-template>
    </div>

    <!-- Columna Derecha: Toda la Información -->
    <div class="right-column">
      <div class="header-section">
        <h3 class="section-title">{{ titulo }}</h3>
      </div>

      <!-- Tags -->
      <div class="tags-container">
        <span class="tag tag-disponible" *ngIf="estaDisponible">
          Disponible
        </span>
        <span class="tag tag-categoria">{{ categoriaNombre }}</span>
      </div>

      <!-- Detalles del Artículo -->
      <div class="details-section">
        <h4 class="subsection-title">Detalles del Artículo</h4>
        <p class="detalles-text">{{ descripcion }}</p>
        <div class="detalles-info">
          <div class="detalle-item">
            <span class="detalle-label">Fecha de Compra:</span>
            <span class="detalle-value">{{ fechaCompra }}</span>
          </div>
          <div class="detalle-item">
            <span class="detalle-label">Valor:</span>
            <span class="detalle-value">{{
              valor | currency : "USD" : "symbol" : "1.2-2"
            }}</span>
          </div>
        </div>
      </div>

      <!-- Información del Propietario -->
      <div class="propietario-section">
        <h4 class="subsection-title">Información del Propietario</h4>
        <div class="propietario-info-list">
          <div class="info-item">
            <span class="info-label">Nombre:</span>
            <span class="info-value">{{ propietarioNombre }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Correo:</span>
            <span class="info-value">{{ propietarioCorreo }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Teléfono:</span>
            <span class="info-value">{{ propietarioTelefono }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Dirección:</span>
            <span class="info-value">{{ propietarioDireccion }}</span>
          </div>
        </div>
      </div>

      <!-- Botón Solicitar Artículo -->
      <app-button
        type="primary"
        size="md"
        [fullWidth]="true"
        (clicked)="solicitarArticulo()"
      >
        Solicitar Artículo
      </app-button>
    </div>
  </div>
</div>
