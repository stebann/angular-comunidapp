<div
  class="input-field-container"
  [class.error]="errorMessage"
  [class.success]="success"
>
  <label *ngIf="label" class="input-label">
    <i *ngIf="icon" [class]="icon"></i>
    {{ label }}
    <span *ngIf="required" class="required-asterisk">*</span>
  </label>

  <div class="input-wrapper" style="width: 100%">
    <input
      pInputText
      [ngModel]="value"
      [placeholder]="placeholder"
      [disabled]="disabled || isDisabled"
      [type]="
        showPasswordToggle && type === 'password'
          ? showPassword
            ? 'text'
            : 'password'
          : type
      "
      (ngModelChange)="onValueChange($event)"
      (blur)="onBlur()"
      styleClass="custom-input"
      style="width: 100%"
    />

    <!-- Password toggle button -->
    <button
      *ngIf="showPasswordToggle && type === 'password'"
      type="button"
      class="password-toggle-btn"
      (click)="togglePasswordVisibility()"
      style="
        position: absolute;
        right: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
      "
    >
      <i [class]="showPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
    </button>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    <i class="pi pi-exclamation-triangle"></i>
    {{ errorMessage }}
  </div>
</div>
