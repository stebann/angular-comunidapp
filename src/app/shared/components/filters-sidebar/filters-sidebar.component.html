<!-- Overlay para cerrar el sidebar -->
<div
  class="sidebar-overlay"
  [class.active]="isOpen"
  (click)="closeSidebar()"
></div>

<!-- Sidebar de filtros -->
<div class="filters-sidebar" [class.open]="isOpen">
  <!-- Header del sidebar -->
  <div class="sidebar-header">
    <h3 class="sidebar-title">
      <i class="pi pi-filter"></i>
      Filtros
    </h3>
    <button class="close-btn" (click)="closeSidebar()">
      <i class="pi pi-times"></i>
    </button>
  </div>

  <!-- Contenido del sidebar -->
  <div class="sidebar-content">
    <!-- Filtro por Categoría -->
    <div class="filter-group">
      <app-dropdown-field
        label="Categoría"
        [options]="categoriaOptions"
        placeholder="Seleccionar..."
        [ngModel]="
          currentFilters.categoriaId != null
            ? currentFilters.categoriaId + ''
            : ''
        "
        (selectionChange)="onFilterChange('categoriaId', $event)"
      ></app-dropdown-field>
    </div>

    <!-- Filtro por Estado -->
    <div class="filter-group">
      <app-dropdown-field
        label="Estado"
        [options]="estadoOptions"
        placeholder="Seleccionar..."
        [ngModel]="
          currentFilters.estadoId != null ? currentFilters.estadoId + '' : ''
        "
        (selectionChange)="onFilterChange('estadoId', $event)"
      ></app-dropdown-field>
    </div>

    <!-- Filtro por Tipo -->
    <div class="filter-group">
      <app-dropdown-field
        label="Tipo"
        [options]="tipoOptions"
        placeholder="Seleccionar..."
        [ngModel]="
          currentFilters.tipoTransaccionId != null
            ? currentFilters.tipoTransaccionId + ''
            : ''
        "
        (selectionChange)="onFilterChange('tipoTransaccionId', $event)"
      ></app-dropdown-field>
    </div>

    <!-- Búsqueda por título de artículo -->
    <div class="filter-group">
      <app-input-field
        label="Buscar por artículo"
        placeholder="Buscar por título..."
        [ngModel]="currentFilters.nombreArticulo || ''"
        (valueChange)="onFilterChange('nombreArticulo', $event)"
        icon="pi pi-search"
      ></app-input-field>
    </div>

    <!-- Búsqueda por nombre de usuario -->
    <div class="filter-group">
      <app-input-field
        label="Buscar por usuario"
        placeholder="Buscar por nombre de usuario..."
        [ngModel]="currentFilters.nombreUsuario || ''"
        (valueChange)="onFilterChange('nombreUsuario', $event)"
        icon="pi pi-user"
      ></app-input-field>
    </div>
  </div>

  <!-- Footer con botones -->
  <div class="sidebar-footer">
    <button class="btn btn-secondary" (click)="clearFilters()">
      <i class="pi pi-trash"></i>
      Limpiar
    </button>
    <button class="btn btn-primary" (click)="applyFilters()">
      <i class="pi pi-search"></i>
      Buscar/Filtrar
    </button>
  </div>
</div>
